{"version":3,"sources":["helpers/config.js","helpers/request.js","views/Proyectos.jsx"],"names":["api","host","headers","method","Accept","get","url","undefined","this","body","fetch","req","ok","error","message","statusText","json","res","post","params","JSON","stringify","delete","RenderProject","props","projects","map","proj","key","CIDPROYECTO","CCODIGOPROYECTO","CNOMBREPROYECTO","CESTATUS","style","color","CFECHAALTA","split","onClick","onSelected","Proyectos","state","loading","GetProjects","request","response","alert","setState","data","show","options","view","label","navigation","go","project","projectId","projectCode","projectName","React","Component"],"mappings":"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","file":"static/js/7.17d75d9c.chunk.js","sourcesContent":["const host = 'http://api.seisaenergia.com';\r\nexport const api = host  + '/api/proyectos'","import { api } from \"./config\";\r\n\r\nexport default {\r\n  headers: {\r\n    method: \"get\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\"\r\n    }\r\n  },\r\n  async get(url) {\r\n    try {\r\n      if (this.headers.body !== undefined) delete this.headers.body;\r\n      this.headers.method = \"get\";\r\n      const req = await fetch(api + url, this.headers);\r\n      if (!req.ok) return { error: true, message: req.statusText };\r\n      const res = await req.json();\r\n      return res;\r\n    } catch (message) {\r\n      return { error: true, message };\r\n    }\r\n  },\r\n  async post(url, params = {}) {\r\n    try {\r\n      this.headers.body = JSON.stringify(params);\r\n      this.headers.method = \"post\";\r\n      const req = await fetch(api + url, this.headers);\r\n      if (!req.ok) return { error: true, message: req.statusText };\r\n      const res = await req.json();\r\n      return res;\r\n    } catch (message) {\r\n      return { error: true, message };\r\n    }\r\n  },\r\n  async delete(url) {\r\n    try {\r\n      if (this.headers.body !== undefined) delete this.headers.body;\r\n      this.headers.method = \"delete\";\r\n      const req = await fetch(api + url, this.headers);\r\n      if (!req.ok) return { error: true, message: req.statusText };\r\n      const res = await req.json();\r\n      return res;\r\n    } catch (message) {\r\n      return { error: true, message };\r\n    }\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  Icon,\r\n  Table,\r\n  Button,\r\n  TableRow,\r\n  TableHead,\r\n  TableBody,\r\n  TableCell\r\n} from \"@material-ui/core\";\r\nimport request from \"../helpers/request\";\r\nimport Loader from \"../components/Loader\";\r\nimport Navbar from \"../components/Navbar\";\r\n\r\nfunction RenderProject(props) {\r\n  return (\r\n    <TableBody>\r\n      {props.projects.map(proj => (\r\n        <TableRow key={proj.CIDPROYECTO}>\r\n          <TableCell>{proj.CCODIGOPROYECTO}</TableCell>\r\n          <TableCell>{proj.CNOMBREPROYECTO}</TableCell>\r\n          <TableCell>\r\n            {\r\n              (proj.CESTATUS === 1 ? (\r\n                <span style={{ color: \"#00c853\" }}>Activo</span>\r\n              ) : (\r\n                <span style={{ color: \"red\" }}>Terminado</span>\r\n              ))\r\n            }\r\n          </TableCell>\r\n          <TableCell>{proj.CFECHAALTA.split(\"T\")[0]}</TableCell>\r\n          <TableCell>\r\n            <Button onClick={() => props.onSelected(proj)}>\r\n              <Icon>format_align_justify</Icon>\r\n            </Button>\r\n          </TableCell>\r\n        </TableRow>\r\n      ))}\r\n    </TableBody>\r\n  );\r\n}\r\n\r\nclass Proyectos extends React.Component {\r\n  state = {\r\n    projects: [],\r\n    loading: true\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.GetProjects();\r\n  }\r\n\r\n  async GetProjects() {\r\n    try {\r\n      const response = await request.get(\"/lista\");\r\n      if (response.error) return alert(response.message);\r\n      this.setState({ projects: response.data, loading: false });\r\n    } catch (message) {\r\n      alert(message);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { projects, loading } = this.state;\r\n    return (\r\n      <>\r\n        <Loader show={loading} />\r\n        <Navbar\r\n          options={[{ view: \"Proyectos\", label: \"Proyectos\" }]}\r\n          onClick={view => this.props.navigation.go(view)}\r\n        />\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Codigo</TableCell>\r\n              <TableCell>Descripci√≥n</TableCell>\r\n              <TableCell>Estatus</TableCell>\r\n              <TableCell>Fecha Inicio</TableCell>\r\n              <TableCell>Acciones</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <RenderProject\r\n            projects={projects}\r\n            onSelected={project => {\r\n              this.props.navigation.go(\"DetalleProyecto\", {\r\n                projectId: project.CIDPROYECTO,\r\n                projectCode: project.CCODIGOPROYECTO,\r\n                projectName: project.CNOMBREPROYECTO\r\n              });\r\n            }}\r\n          />\r\n        </Table>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Proyectos;\r\n"],"sourceRoot":""}